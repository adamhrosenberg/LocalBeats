<div class="container-login100" style="background-image: url('../../../assets/images/bg-01.jpg');">
  <div>
    <!-- <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar> -->
    <mat-card class="wrap-login100 p-l-30 p-r-30 p-t-30 p-b-30">
      <mat-card-content>

        

        <div *ngIf="!this.magicLinkButtonClicked">
            <div>
                <mat-slide-toggle class="text-muted" color="accent" [(ngModel)]="isDemoModeChecked" (ngModelChange)="toggleDemoMode()">
                  Demo Mode
                </mat-slide-toggle>
            </div>
          <form [formGroup]="signinForm" (ngSubmit)="signin()" #captchaProtectedForm="ngForm" class="login100-form">
            <div class="">

                <!-- <div class="text-center login100-form-title p-t-27 p-b-10">
                      localBeats
                  </div> -->

                  <div class="text-center p-t-57 p-b-20">
              <!-- <div class="text-center p-b-20"> -->
                <span class="txt1">
                  Password-less Login System
                </span>
              </div>

              <!-- Email field -->
              <!-- <mat-form-field class="wrap-input100 validate-input m-b-20"> -->
              <div class="wrap-input100 validate-input m-b-30">
                <input class="input100" matInput name="username" email="true" [formControl]="signinForm.controls['username']" placeholder="Email">
                <span class="focus-input100"></span>
              </div>
              <!-- </mat-form-field> -->
              <small *ngIf="signinForm.controls['username'].hasError('required') && signinForm.controls['username'].touched" 
              class="text-center p-l-10 m-b-5 form-error-msg">
                Email is required </small>
            </div>

            <!-- Sign in button -->
            <div class="container-login100-form-btn">
              <re-captcha size="invisible" #invisible (resolved)="cpatchaResolved($event)" siteKey="6LeFK1IUAAAAAEakef3Qt8YiYVi45hMZJd_eiWSG"></re-captcha>
              <button class="login100-form-btn" [disabled]="signinForm.invalid" (click)="invisible.execute()">
                Send me a magic link!
              </button>
              <small *ngIf="error" class="text-center p-l-10 m-t-30 m-b-20 form-error-msg">{{errorMessage}}</small>
            </div>

            <div class="text-center p-t-57 p-b-20">
              <span class="txt1">
                Or login with
              </span>
            </div>


          </form>

          <!-- Google Login -->
          <div class="flex-c p-b-72">
            <button (click)="socialSignIn('google')" class="login100-social-item" style="color:Tomato">
              <i class="fa fa-google"></i>
            </button>
          </div>

          <!-- Create an account -->
          <div class="text-center">
            <a routerLink="/auth/register" class="txt2 hov1">
              Sign Up
            </a>
          </div>

        </div>
        <div *ngIf="this.magicLinkButtonClicked">
          <p class="text-center text-muted m-0">A magic link has been sent to:
            <br>{{this.user.email}}
            <br>
            <br> Please check your email and click the link to log in.
            <br>
            <br>(It may take a couple of minutes to receive the email.)
          </p>
        </div>

        <div *ngIf="isDemoModeChecked">
          <br>
          <p class="text-center text-muted m-0">
            <strong>Disclaimer:</strong> The passwordless process will be skipped in demo mode and the user will be instantly logged
            in. </p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>