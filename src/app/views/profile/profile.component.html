<div fxLayout="row" fxLayoutWrap="wrap">
  <div *ngIf="this.user" fxFlex="100" fxFlex.gt-md="300px" fxFlex.gt-sm="50">
    <mat-card class="profile-sidebar mb-1 pb-0">
      <div class="propic text-center">
        <img [src]="this.user.profilePicUrl" alt="">
      </div>
      <div class="profile-title text-center mb-1">
        <div class="main-title">{{this.user.firstName}}
          <b>{{this.user.lastName}}</b>
        </div>
        <!-- <div class="subtitle mb-05">Big Data Expert</div> -->
        <div class="text-muted">Hello my name is {{this.user.firstName}}</div>
      </div>
      <div class="profile-actions text-center mb-1">
        <button mat-raised-button color="primary">Message</button>
        <button mat-raised-button color="accent">Follow</button>
      </div>
      <div class="profile-nav">
        <mat-nav-list>
          <!-- check here if to see if on another profile and go to profile/id/overview -->


          <mat-list-item (click)="clickedOverview = true">
            <mat-icon>home</mat-icon>
            Overview
          </mat-list-item>


          <ng-template [ngIf]="!this.onOwnProfile && this.userService.isAuthenticated()">
            <mat-list-item (click)="clickedRequestArtist = true">
              <mat-icon>music_note</mat-icon>
              Request Artist
            </mat-list-item>
          </ng-template>

          <ng-template [ngIf]="!this.onOwnProfile && this.requested && this.userService.isAuthenticated()">
            <mat-list-item (click)="onCancelArtist(this.user._id)" routerLinkActive="list-item-active">
              <mat-icon>music_note</mat-icon>
              Cancel Artist
            </mat-list-item>
          </ng-template>


          <ng-template [ngIf]="this.onOwnProfile">
            <mat-list-item [routerLink]="['/profile', 'events']" routerLinkActive="list-item-active">
              <mat-icon>events</mat-icon>
              Events
            </mat-list-item>
          </ng-template>

          <ng-template [ngIf]="this.onOwnProfile">
            <mat-divider></mat-divider>
            <!-- if not on your own profile this doesnt show -->

            <mat-list-item routerLink="/profile/settings" routerLinkActive="list-item-active">
              <mat-icon>settings</mat-icon>
              Settings
            </mat-list-item>
          </ng-template>

        </mat-nav-list>
      </div>
    </mat-card>

    <!-- Chart grid -->
    <mat-card class="default">
      <mat-card-title>Summary</mat-card-title>
      <mat-card-content>
        <div fxLayout="row" fxLayoutWrap="wrap" class="doughnut-grid text-center">
          <div fxFlex="50" class="doughnut-grid-item mat-bg-primary">
            <!-- <canvas 
                  baseChart
                  class="chart"
                  [data]="doughnutChartData1"
                  [options]="doughnutOptions"
                  [colors]="doughnutChartColors"
                  [chartType]="doughnutChartType"></canvas> -->
            <small>Space: {{data1}}/{{total1}} GB</small>
          </div>
          <div fxFlex="50" class="doughnut-grid-item light-gray">
            <canvas baseChart class="chart" [data]="doughnutChartData2" [options]="doughnutOptions" [colors]="doughnutChartColors" [chartType]="doughnutChartType"></canvas>
            <small>Sales: 450</small>
          </div>
          <div fxFlex="50" class="doughnut-grid-item light-gray">
            <canvas baseChart class="chart" [data]="doughnutChartData2" [options]="doughnutOptions" [colors]="doughnutChartColors" [chartType]="doughnutChartType"></canvas>
            <small>Spent: $500</small>
          </div>
          <div fxFlex="50" class="doughnut-grid-item mat-bg-primary">
            <canvas baseChart class="chart" [data]="doughnutChartData2" [options]="doughnutOptions" [colors]="doughnutChartColors" [chartType]="doughnutChartType"></canvas>
            <small>Follower: 2000</small>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
    <!-- Contact Information -->
    <mat-card class="default">
      <mat-card-title>Contact Information</mat-card-title>
      <mat-card-content class="pt-0">
        <mat-list>
          <mat-list-item>
            <mat-icon class="mr-1">public</mat-icon> www.mhrafi.com</mat-list-item>
          <mat-list-item>
            <mat-icon class="mr-1">email</mat-icon> example@gmail.com</mat-list-item>
          <mat-list-item>
            <mat-icon class="mr-1">phone</mat-icon> 8801822778800</mat-list-item>
          <mat-list-item>
            <mat-icon class="mr-1">add_location</mat-icon> SUST, Sylhet, BD</mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Profile Views -->
  <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.gt-md="calc(100% - 300px)">
    <router-outlet></router-outlet>
    <!-- //TODO DO THIS FOR THE REST OF THE CHILDREN -->
    <app-profile-request *ngIf="clickedRequestArtist" [user]="userService.user" [artist]="user"></app-profile-request>
    <app-profile-overview *ngIf="clickedOverview" [user]="user"></app-profile-overview>
  </div>
</div>