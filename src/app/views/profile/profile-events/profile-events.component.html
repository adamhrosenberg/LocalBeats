<mat-card class="p-0">
  <mat-card-title class="mat-bg-primary m-0">
      <div class="card-title-text">
        <span>My Hosted Events</span>
      </div>
  </mat-card-title>
  <div *ngFor="let event of this.events; let i = index" class="example-card">
    <mat-card class="p-0">
      <mat-tab-group>
        <mat-tab label="Event Details">
          <mat-card class="no-shadow">
            <mat-card-header>
              <img mat-card-avatar [src]="event.event.eventPicUrl">
              <mat-card-title><a [routerLink]="['/events', event.event._id]">{{event.event.eventName}}</a></mat-card-title>
              <mat-card-subtitle>{{event.event.eventType | capitalize}}</mat-card-subtitle>
              <mat-card-subtitle>{{event.event.toDate | date:'MMM d, y, h:mm a'}}</mat-card-subtitle>
              <mat-card-subtitle>{{event.event.fixedPrice | currency}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
            </mat-card-content>
            <mat-card-actions>
              <button *ngIf="event.event.hostUser._id == this.user._id" (click)="onEditEvent(event.event, i)" mat-button color="primary">Edit</button>
              <button *ngIf="event.event.hostUser._id == this.user._id" (click)="onDeleteEvent(event.event, i)" mat-button color="primary">Delete</button>
            </mat-card-actions>
          </mat-card>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
              Applicants <span class="notification-value mat-bg-warn">1</span>
          </ng-template>
          <mat-card *ngIf="event.applicants.length == 0" class="example-card no-shadow">
            <mat-card-title>You have no applicants.</mat-card-title>
          </mat-card>
          <mat-card *ngFor="let booking of event.applicants; let i = index" class="example-card no-shadow">
            <mat-card-header>
              <img mat-card-avatar [src]="booking.performerUser.profilePicUrl">
              <mat-card-title><a [routerLink]="['/profile', booking.performerUser._id]">{{booking.performerUser.firstName}} {{booking.performerUser.lastName}} </a><mat-icon *ngIf="booking.artistApproved">music_note</mat-icon></mat-card-title>
              <mat-card-subtitle>{{booking.hostStatusMessage}} - {{booking.currentPrice | currency}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
            </mat-card-content>
            <mat-card-actions>
              <button (click)="openNegotiationDialog(booking, 'host')" mat-button color="primary">View Application</button>
            </mat-card-actions>
          </mat-card>
        </mat-tab>
        <mat-tab label="Booked Musicians">
          <mat-card *ngIf="event.approved.length == 0" class="example-card no-shadow">
            <mat-card-title>You have no musicians booked.</mat-card-title>
          </mat-card>
          <mat-card *ngFor="let booking of event.approved; let i = index" class="example-card no-shadow">
            <mat-card-header>
              <img mat-card-avatar [src]="booking.performerUser.profilePicUrl">
              <mat-card-title><a [routerLink]="['/profile', booking.performerUser._id]">{{booking.performerUser.firstName}} {{booking.performerUser.lastName}}</a></mat-card-title>
              <mat-card-subtitle>Accepted Price: {{booking.currentPrice | currency}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
            </mat-card-content>
            <mat-card-actions>
              <button (click)="openNegotiationDialog(booking, 'host')" mat-button color="primary">Cancel Booking</button>
            </mat-card-actions>
          </mat-card>
        </mat-tab>
      </mat-tab-group>
    </mat-card>
  </div>
</mat-card>